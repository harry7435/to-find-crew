# íŒ€ ë½‘ê¸° ë¡œì§ ê°„ì†Œí™” ê³„íš

## ëª©í‘œ

ê²Œì„ ê´€ë¦¬ìì˜ íŒ€ ë½‘ê¸° ë¡œì§ì„ ê°„ì†Œí™”í•˜ì—¬:
1. Team A/B ê°œë… ì œê±° - ë‹¨ìˆœíˆ 4ëª…ë§Œ ë½‘ê¸°
2. ì§ì ‘ ë½‘ê¸°ë„ íŒ€ êµ¬ë¶„ ì—†ì´ 4ëª… ì„ íƒ
3. í†µê³„ë¥¼ ê°œì¸ë³„ ê²Œì„ íšŸìˆ˜ë§Œ í‘œì‹œ (í˜ì–´ í†µê³„ ì œê±°)
4. í†µê³„ë¥¼ ì‹œê°í™”í•˜ì—¬ í•œëˆˆì— íŒŒì•… ê°€ëŠ¥í•˜ë„ë¡

## í˜„ì¬ êµ¬ì¡°

- `GameRecord`: `{ teamA: [string, string], teamB: [string, string] }` í˜•íƒœë¡œ 2íŒ€ êµ¬ë¶„
- `pickedTeams`: Team A/Bë¡œ ë¶„ë¦¬ëœ ìƒíƒœ ê´€ë¦¬
- UI: íŒŒë€ìƒ‰/ë¹¨ê°„ìƒ‰ íŒ€ ì¹´ë“œ, í˜ì–´ í†µê³„, í¬ë¡œìŠ¤ ë§¤ì¹˜ í†µê³„ ë“±

## ë³€ê²½ ì‚¬í•­

### 1. ë°ì´í„° ëª¨ë¸ ë³€ê²½ (useGameManager.ts)

**GameRecord ì¸í„°í˜ì´ìŠ¤ ë³€ê²½:**
```typescript
// Before
export interface GameRecord {
  id: string;
  teamA: [string, string];
  teamB: [string, string];
  confirmedAt: string;
}

// After
export interface GameRecord {
  id: string;
  players: [string, string, string, string];
  confirmedAt: string;
}
```

**ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§ ì¶”ê°€:**
- localStorageì˜ ê¸°ì¡´ ë°ì´í„°ë¥¼ ìƒˆ í˜•ì‹ìœ¼ë¡œ ìë™ ë³€í™˜
- teamA/teamB í˜•ì‹ ê°ì§€ ì‹œ players ë°°ì—´ë¡œ ë³‘í•©
- ì´ë¯¸ ìƒˆ í˜•ì‹ì´ë©´ ê·¸ëŒ€ë¡œ ìœ ì§€

### 2. ëœë¤ ë½‘ê¸° ë¡œì§ ì—…ë°ì´íŠ¸ (smartTeamPicker.ts)

**randomTeamPicker ë°˜í™˜ íƒ€ì… ë³€ê²½:**
```typescript
// Before
{ teamA: [Player, Player]; teamB: [Player, Player] }

// After
[Player, Player, Player, Player]
```

**êµ¬í˜„ ê°„ì†Œí™”:**
- íŒ€ ê¸°ë°˜ ë¡œì§ ì œê±°
- 4ëª…ì˜ í”Œë ˆì´ì–´ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜
- pinned/resting ìƒíƒœëŠ” ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ ì²˜ë¦¬

### 3. ë©”ì¸ í˜ì´ì§€ ì—…ë°ì´íŠ¸ (page.tsx)

**ìƒíƒœ ë³€ê²½:**
```typescript
// Before
const [pickedTeams, setPickedTeams] = useState<{ teamA: [Player, Player]; teamB: [Player, Player] } | null>(null);

// After
const [pickedPlayers, setPickedPlayers] = useState<[Player, Player, Player, Player] | null>(null);
```

**í•¸ë“¤ëŸ¬ ìˆ˜ì •:**
- `handleRandomPickTeams`: ìƒˆ í˜•ì‹ì˜ ë°°ì—´ ë°›ê¸°
- `handleConfirmGame`: players ë°°ì—´ë¡œ ê²Œì„ ì €ì¥
- `handleCustomConfirm`: 4ëª… ë°°ì—´ ë°›ê¸°
- `playerGameCounts`: game.players ìˆœíšŒí•˜ë„ë¡ ìˆ˜ì •

### 4. TeamPicker ì»´í¬ë„ŒíŠ¸ ê°„ì†Œí™” (TeamPicker.tsx)

**ì œê±°í•  ìš”ì†Œ:**
- Team A/B ì¹´ë“œ êµ¬ë¶„ (íŒŒë€ìƒ‰/ë¹¨ê°„ìƒ‰ ë°°ê²½)
- íŒ€ í˜ì–´ í†µê³„ (ê°™ì€ íŒ€ìœ¼ë¡œ XíšŒ í”Œë ˆì´)
- í¬ë¡œìŠ¤ ë§¤ì¹˜ í†µê³„ (ë§ìƒëŒ€ë¡œ ëŒ€ì „ ê¸°ë¡)
- ì •í™•í•œ ë§¤ì¹˜ì—… ê°ì§€

**ìœ ì§€/ìˆ˜ì •í•  ìš”ì†Œ:**
- ê°œì¸ë³„ ê²Œì„ íšŸìˆ˜ (Trophy ì•„ì´ì½˜) - ê° í”Œë ˆì´ì–´ ì¹´ë“œì—ë§Œ í‘œì‹œ
- ìŠ¤í‚¬ ë ˆë²¨, ì„±ë³„, ë‚˜ì´ëŒ€ ë°°ì§€
- pinned (í•„ìˆ˜ í¬í•¨) í‘œì‹œ

**ìƒˆë¡œ ì¶”ê°€í•  ìš”ì†Œ:**
- **4ëª…ì´ ì„œë¡œ ëª‡ ë²ˆì”© ê°™ì€ ê²Œì„ì— ì†í–ˆëŠ”ì§€ í†µê³„**
  - ì˜ˆ: A, B, C, Dê°€ ë½‘í˜”ì„ ë•Œ
  - A-B í•¨ê»˜ ê²Œì„: 3íšŒ
  - A-C í•¨ê»˜ ê²Œì„: 1íšŒ
  - A-D í•¨ê»˜ ê²Œì„: 2íšŒ
  - B-C í•¨ê»˜ ê²Œì„: 0íšŒ
  - B-D í•¨ê»˜ ê²Œì„: 4íšŒ
  - C-D í•¨ê»˜ ê²Œì„: 1íšŒ
  - (ì´ 6ê°œ ì¡°í•©ì˜ ê³µë™ ê²Œì„ íšŸìˆ˜)

**ìƒˆ UI êµ¬ì¡°:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë½‘íŒ ì„ ìˆ˜ (4ëª…)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â™‚ï¸ í™ê¸¸ë™     â”‚  â”‚ â™€ï¸ ê¹€ì˜í¬    â”‚â”‚
â”‚  â”‚ Skill: A     â”‚  â”‚ Skill: B     â”‚â”‚
â”‚  â”‚ ğŸ† 3ê²Œì„     â”‚  â”‚ ğŸ† 5ê²Œì„     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â™‚ï¸ ì´ì² ìˆ˜     â”‚  â”‚ â™‚ï¸ ë°•ë¯¼ìˆ˜    â”‚â”‚
â”‚  â”‚ Skill: B     â”‚  â”‚ Skill: C     â”‚â”‚
â”‚  â”‚ ğŸ† 4ê²Œì„     â”‚  â”‚ ğŸ† 2ê²Œì„     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê³µë™ ê²Œì„ ì´ë ¥                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í™ê¸¸ë™ - ê¹€ì˜í¬: 3íšŒ                â”‚
â”‚ í™ê¸¸ë™ - ì´ì² ìˆ˜: 1íšŒ                â”‚
â”‚ í™ê¸¸ë™ - ë°•ë¯¼ìˆ˜: 2íšŒ                â”‚
â”‚ ê¹€ì˜í¬ - ì´ì² ìˆ˜: 0íšŒ âœ¨ (ì²« ì¡°í•©)   â”‚
â”‚ ê¹€ì˜í¬ - ë°•ë¯¼ìˆ˜: 4íšŒ                â”‚
â”‚ ì´ì² ìˆ˜ - ë°•ë¯¼ìˆ˜: 1íšŒ                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ í™•ì • ]  [ ë‹¤ì‹œ ë½‘ê¸° ]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í†µê³„ ê³„ì‚° ë¡œì§:**
```typescript
// ë‘ ì„ ìˆ˜ê°€ ê°™ì€ ê²Œì„ì— ì†í•œ íšŸìˆ˜ ê³„ì‚°
function getCoPlayCount(playerId1: string, playerId2: string, games: GameRecord[]): number {
  return games.filter(game =>
    game.players.includes(playerId1) && game.players.includes(playerId2)
  ).length;
}

// ë½‘íŒ 4ëª…ì˜ ëª¨ë“  ì¡°í•© (6ê°œ)
const combinations = [
  [players[0], players[1]],
  [players[0], players[2]],
  [players[0], players[3]],
  [players[1], players[2]],
  [players[1], players[3]],
  [players[2], players[3]],
];
```

### 5. CustomTeamPicker ì»´í¬ë„ŒíŠ¸ ê°„ì†Œí™” (CustomTeamPicker.tsx)

**ì œê±°í•  ìš”ì†Œ:**
- Team A/Team B ì¹´ë“œ
- "Team A" / "Team B" ë²„íŠ¼

**ìƒˆ UI êµ¬ì¡°:**
- "Selected Players (X/4)" ë‹¨ì¼ ì„¹ì…˜
- í™œì„± ì„ ìˆ˜ ëª©ë¡ì—ì„œ í´ë¦­ìœ¼ë¡œ ì„ íƒ/í•´ì œ
- 4ëª… ì„ íƒ ì™„ë£Œ ì‹œ í™•ì • ë²„íŠ¼ í™œì„±í™”

**ìƒíƒœ ê´€ë¦¬:**
```typescript
const [selectedPlayers, setSelectedPlayers] = useState<Player[]>([]);
```

### 6. GameHistory í†µê³„ ì‹œê°í™” (GameHistory.tsx)

**ì œê±°í•  ìš”ì†Œ:**
- í˜ì–´ í†µê³„ ì „ì²´ ì„¹ì…˜

**ê²Œì„ ê¸°ë¡ í‘œì‹œ ë³€ê²½:**
```typescript
// Before: Team A vs Team B
// After: 4ëª… ê·¸ë¦¬ë“œ í‘œì‹œ
<div className="grid grid-cols-2 gap-2">
  {game.players.map(playerId => (
    <div>{getPlayerName(playerId)}</div>
  ))}
</div>
```

**í†µê³„ ì‹œê°í™” ì¶”ê°€:**
```typescript
// ì„ ìˆ˜ë³„ ê²Œì„ íšŸìˆ˜ì— progress bar ì¶”ê°€
const maxGames = Math.max(...playerStatsArray.map(s => s.count), 1);

{playerStatsArray.map((stat) => {
  const percentage = (stat.count / maxGames) * 100;
  const colorClass = getGameCountColor(stat.count, maxGames);

  return (
    <div className="space-y-1">
      <div className="flex justify-between">
        <span>{stat.name}</span>
        <Badge>{stat.count}ê²Œì„</Badge>
      </div>
      <div className="w-full h-2 bg-gray-200 rounded-full">
        <div
          className={`h-full ${colorClass}`}
          style={{ width: `${percentage}%` }}
        />
      </div>
    </div>
  );
})}
```

**ìƒ‰ìƒ ì½”ë”©:**
- ë…¹ìƒ‰ (0-33%): ê²Œì„ ì ìŒ - ìš°ì„  ì„ ë°œ í•„ìš”
- ë…¸ë€ìƒ‰ (34-66%): í‰ê·  ì°¸ì—¬
- ì£¼í™©ìƒ‰ (67-100%): ê²Œì„ ë§ìŒ - íœ´ì‹ ê¶Œì¥

## êµ¬í˜„ ìˆœì„œ

1. **useGameManager.ts**: ë°ì´í„° ëª¨ë¸ ë³€ê²½ ë° ë§ˆì´ê·¸ë ˆì´ì…˜
2. **smartTeamPicker.ts**: ëœë¤ ë½‘ê¸° í•¨ìˆ˜ ìˆ˜ì •
3. **page.tsx**: ìƒíƒœ ë° í•¸ë“¤ëŸ¬ ì—…ë°ì´íŠ¸
4. **TeamPicker.tsx**: UI ê°„ì†Œí™”
5. **CustomTeamPicker.tsx**: ì„ íƒ UI ê°„ì†Œí™”
6. **GameHistory.tsx**: í†µê³„ ì‹œê°í™” ì¶”ê°€

## ì£¼ìš” íŒŒì¼

- [src/hooks/useGameManager.ts](src/hooks/useGameManager.ts) - ë°ì´í„° ëª¨ë¸
- [src/app/game-manager/page.tsx](src/app/game-manager/page.tsx) - ë©”ì¸ ë¡œì§
- [src/components/game-manager/TeamPicker.tsx](src/components/game-manager/TeamPicker.tsx) - ë½‘ê¸° ê²°ê³¼ í‘œì‹œ
- [src/components/game-manager/CustomTeamPicker.tsx](src/components/game-manager/CustomTeamPicker.tsx) - ì§ì ‘ ì„ íƒ
- [src/components/game-manager/GameHistory.tsx](src/components/game-manager/GameHistory.tsx) - í†µê³„ ì‹œê°í™”
- [src/utils/smartTeamPicker.ts](src/utils/smartTeamPicker.ts) - ë½‘ê¸° ì•Œê³ ë¦¬ì¦˜

## ê²€ì¦ ë°©ë²•

### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
1. ëœë¤ ë½‘ê¸°ë¡œ 4ëª… ì„ íƒ í™•ì¸
2. ì§ì ‘ ë½‘ê¸°ë¡œ 4ëª… ì„ íƒ/í•´ì œ í™•ì¸
3. ê²Œì„ í™•ì • í›„ ìƒˆ í˜•ì‹ìœ¼ë¡œ ì €ì¥ í™•ì¸
4. í†µê³„ì—ì„œ ê°œì¸ë³„ ê²Œì„ íšŸìˆ˜ ì •í™•ì„± í™•ì¸
5. ê¸°ì¡´ localStorage ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ í™•ì¸

### UI í…ŒìŠ¤íŠ¸
1. Team A/B ë ˆì´ë¸” ë° ìƒ‰ìƒ ì œê±° í™•ì¸
2. 4ëª… ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ì •ìƒ í‘œì‹œ í™•ì¸
3. Progress bar ì •ìƒ ë Œë”ë§ í™•ì¸
4. ìƒ‰ìƒ ê·¸ë¼ë°ì´ì…˜ ì˜¬ë°”ë¥¸ ìƒ‰ìƒ í™•ì¸
5. ëª¨ë°”ì¼/ë°ìŠ¤í¬íƒ‘ ë°˜ì‘í˜• í™•ì¸

### ì—£ì§€ ì¼€ì´ìŠ¤
1. ì •í™•íˆ 4ëª…ì˜ í™œì„± ì„ ìˆ˜
2. 10ëª… ì´ìƒì˜ ì„ ìˆ˜
3. ëª¨ë“  ì„ ìˆ˜ ê²Œì„ íšŸìˆ˜ ë™ì¼
4. í•œ ì„ ìˆ˜ë§Œ ê²Œì„ íšŸìˆ˜ ë§ìŒ
5. ë¹ˆ ê²Œì„ ê¸°ë¡
6. ë¹ˆ ì„ ìˆ˜ ëª©ë¡

## ì´ì 

1. **ë‹¨ìˆœí•œ ë©˜íƒˆ ëª¨ë¸**: íŒ€ êµ¬ì„± ê³ ë ¤ ë¶ˆí•„ìš”
2. **ê¹”ë”í•œ UI**: íŒ€ ìƒ‰ìƒê³¼ í˜ì–´ í†µê³„ ì œê±°ë¡œ ì‹œê°ì  ì •ëˆ
3. **ë¹ ë¥¸ ê²°ì •**: 4ëª…ë§Œ ë½‘ê³  ë°”ë¡œ ì‹œì‘
4. **ë‚˜ì€ í†µê³„**: ê°œì¸ ì°¸ì—¬ë„ì— ì§‘ì¤‘
5. **ì‰¬ìš´ ìœ ì§€ë³´ìˆ˜**: ì½”ë“œ ê°„ì†Œí™”
6. **ëª…í™•í•œ ê³µì •ì„±**: Progress barë¡œ ì°¸ì—¬ í¸ì°¨ ì¦‰ì‹œ íŒŒì•…
